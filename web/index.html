<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Temperature Log</title>
</head>
<body style="margin:0;">

<h1>Temperature Log (Real time)</h1>
<textarea title="Temperature log" id="log" readonly
          style="display: block; width: 50%; height: 400px; resize: none; margin: 0;
          padding: 0; border: 0; background-color: lavender">
</textarea>

<script>

    var ws = new WebSocket("ws://localhost:8080/WebSocketWebProject_war_exploded/ws");
    ws.onmessage = function (event) {
        console.log(event.data);
        document.getElementById("log").value += "[" + timestamp() + "] " + event.data + "\n";
        document.getElementById("log").scrollTop = document.getElementById("log").scrollHeight;
    }

    function timestamp() {
        var d = new Date(), minutes = d.getMinutes(), seconds = d.getSeconds();
        if (minutes < 10) minutes = '0' + minutes;
        if (seconds < 10) seconds = '0' + seconds;
        return d.getHours() + ':' + minutes + ':' + seconds;
    }
</script>
</body>
</html>